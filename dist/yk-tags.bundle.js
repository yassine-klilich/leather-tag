(()=>{"use strict";null==window.Tags&&(window.Tags=function(){const t=Object.freeze({el:null,initValues:[],classList:[],disabled:!1,allowDuplicates:!0,preserveCase:!1,placeholder:"",allowedTags:[],disallowedTags:[],autoComplete:[],regexPattern:null,mixed:!1,minTags:null,maxTags:null,forceAutoCompleteOptions:!1,onCreate:function(){},onBeforeTagAdd:function(){},onTagAdd:function(){},onBeforeTagRemove:function(){},onTagRemove:function(){},onTagInvalid:function(){}});function e(e=t){let o=y(t,e),s={tagsWrapper:null,inputElement:null,autoCompleteWrapper:null},n=[],l=[],a=!1,r=[],u=[],c=C.bind(this),h=!1,p=null,m=!1;Object.defineProperty(this,"config",{get:()=>o,set:t=>{o=y(o,t),d.call(this),i.call(this),this.values=o.initValues,this.disabled=o.disabled,this.autoComplete=o.autoComplete}}),Object.defineProperty(this,"dom",{get:()=>s}),Object.defineProperty(this,"values",{get:()=>n,set:t=>{if(t instanceof Array==0)throw new Error("ERROR[set.values] :: parameter is not instance of Array");n=[],this.tagItems=[],this.dom.tagsWrapper.innerHTML="",this.dom.tagsWrapper.appendChild(this.dom.inputElement),this.addAll(t)}}),Object.defineProperty(this,"tagItems",{get:()=>l,set:t=>l=t}),Object.defineProperty(this,"inputValue",{get:()=>this.dom.inputElement.value,set:t=>this.dom.inputElement.value=t}),Object.defineProperty(this,"disabled",{get:()=>a,set:t=>{switch(t){case!0:this.dom.tagsWrapper.classList.add("yk-tags--disabled");break;case!1:this.dom.tagsWrapper.classList.remove("yk-tags--disabled")}a=t}}),Object.defineProperty(this,"autoComplete",{get:()=>r,set:t=>{if(t instanceof Array==0)throw new Error("ERROR[set.autoComplete] :: parameter is not instance of Array");r=t,E.call(this,r)}}),Object.defineProperty(this,"shownAutoCompleteOptions",{get:()=>u,set:t=>u=t}),Object.defineProperty(this,"autoCompleteOpen",{get:()=>h,set:t=>{switch(t){case!0:f.call(this),h=!0;break;case!1:C.call(this),h=!1}}}),Object.defineProperty(this,"_bindFuncHideAutoComplete",{get:()=>c,set:t=>c=t}),Object.defineProperty(this,"_currentFocusedAutoCompleteElement",{get:()=>p,set:t=>p=t}),Object.defineProperty(this,"_preventAddingTag",{get:()=>m,set:t=>m=t}),this.config=o,this.config.onCreate(this)}function i(){const t=document.getElementById(this.config.el);if(null==t)throw new Error("ERROR[_initGUI] :: target element not found");if(t instanceof HTMLDivElement){this.dom.tagsWrapper=t,this.dom.tagsWrapper.innerHTML="";for(let t=0;t<this.config.classList.length;t++){const e=this.config.classList[t];this.dom.tagsWrapper.classList.add(e)}this.dom.inputElement=document.createElement("input"),this.dom.tagsWrapper.classList.add("yk-tags"),this.dom.inputElement.classList.add("yk-tags__input"),this.dom.tagsWrapper.appendChild(this.dom.inputElement),this.dom.inputElement.setAttribute("placeholder",this.config.placeholder||"Type and press Enter"),this.dom.autoCompleteWrapper=m.call(this),this.dom.tagsWrapper.addEventListener("click",u.bind(this)),this.dom.inputElement.addEventListener("focus",o.bind(this)),this.dom.inputElement.addEventListener("input",s.bind(this)),this.dom.inputElement.addEventListener("keyup",n.bind(this)),this.dom.inputElement.addEventListener("keydown",l.bind(this))}}function o(){if(this.inputValue.length>0){const t=this.getMatchedAutoCompleteValues(this.inputValue.toLowerCase());t.length>0&&v.call(this,t)}}function s(){if(0==this.inputValue.length)E.call(this,this.autoComplete);else{const t=this.getMatchedAutoCompleteValues(this.inputValue.toLowerCase());t.length>0?v.call(this,t):this.hideAutoComplete()}}function n(t){"Escape"==t.key&&(this.dom.inputElement.blur(),this.hideAutoComplete())}function l(t){switch(t.key){case"Backspace":0==this.inputValue.length&&this.removeTag(this.tagItems.length-1);break;case"Enter":{const t=this.inputValue;t.trim().length>0&&null!=this.addTag(t)&&(this.inputValue="",this.hideAutoComplete())}}if(null!=this.autoComplete&&this.autoComplete.length>0){let e="";switch(t.key){case"ArrowUp":e=_.call(this,"previousSibling");break;case"ArrowDown":e=_.call(this,"nextSibling")}this.inputValue=null==e?"":e}}function a(t){const e=document.createElement("div"),i=document.createElement("span"),o=document.createElement("button");return e.classList.add("yk-tags__item"),i.classList.add("yk-tags__value"),o.classList.add("yk-tags__btn-remove"),o.innerHTML='<svg width="14" height="14" viewBox="0 0 48 48"><path d="M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z"/></svg>',o.addEventListener("click",r.bind(this,e)),i.textContent=t,e.appendChild(i),e.appendChild(o),e}function r(t){this.removeTag(t)}function u(t){t.stopPropagation(),this.dom.inputElement.focus()}function d(){const t=this.config.allowedTags,e=this.config.disallowedTags;for(let i=0;i<t.length;i++){const o=t[i];for(let t=0;t<e.length;t++){if(o==e[t])throw new Error(`ERROR[_checkConfigValues] :: '${o}' can't be allowed and disallowed value`)}}}function c(t){const e=this.values.map((t=>t.toLowerCase())),i=t.toLowerCase();for(let t=0;t<e.length;t++){if(i==e[t])return h.call(this,t),!0}return!1}function h(t){null==this._setTimeoutAnimation&&(this._setTimeoutAnimation=setTimeout((()=>{p.call(this,t)}),1e3),this.tagItems[t].classList.add("yk-tags__item--animation"))}function p(t){null!=this._setTimeoutAnimation&&(this.tagItems[t].classList.remove("yk-tags__item--animation"),clearTimeout(this._setTimeoutAnimation),this._setTimeoutAnimation=null)}function m(){const t=document.createElement("div");return t.classList.add("yk-tags__autocomplete"),t.addEventListener("click",(t=>t.stopPropagation())),t}function g(){const t=getComputedStyle(this.dom.tagsWrapper).display;if(null!=this.dom.tagsWrapper.parentElement&&"none"!=t){const t=this.dom.tagsWrapper.getBoundingClientRect();this.dom.autoCompleteWrapper.style.top=`${t.bottom}px`,this.dom.autoCompleteWrapper.style.left=`${t.left}px`,this.dom.autoCompleteWrapper.style.width=`${t.width}px`}}function f(){null==this.dom.autoCompleteWrapper.parentElement&&(document.body.appendChild(this.dom.autoCompleteWrapper),g.call(this)),document.addEventListener("click",this._bindFuncHideAutoComplete),window.addEventListener("resize",this._bindFuncHideAutoComplete),this._scrollParent=w(this.dom.tagsWrapper),null!=this._scrollParent&&(this._scrollParent==document.documentElement&&(this._scrollParent=document),this._scrollParent.addEventListener("scroll",this._bindFuncHideAutoComplete))}function C(){this.dom.autoCompleteWrapper.parentElement==document.body&&document.body.removeChild(this.dom.autoCompleteWrapper),document.removeEventListener("click",this._bindFuncHideAutoComplete),window.removeEventListener("resize",this._bindFuncHideAutoComplete),null!=this._scrollParent&&(this._scrollParent.removeEventListener("scroll",this._bindFuncHideAutoComplete),this._scrollParent=null),null!=this._currentFocusedAutoCompleteElement&&(this._currentFocusedAutoCompleteElement.classList.remove("yk-tags__autocomplete-li--focused"),this._currentFocusedAutoCompleteElement=null),this.shownAutoCompleteOptions=[]}function E(t){this.dom.autoCompleteWrapper.innerHTML="",this.dom.autoCompleteList=null,this.shownAutoCompleteOptions=[],this._currentFocusedAutoCompleteElement=null;const e=document.createElement("ul");for(let i=0;i<t.length;i++){const o=t[i],s=document.createElement("li");this.shownAutoCompleteOptions.push(o),s.textContent=o,s.setAttribute("data-index",i),s.addEventListener("click",A.bind(this,o)),e.appendChild(s)}this.dom.autoCompleteWrapper.appendChild(e),this.dom.autoCompleteList=e}function A(t){null!=this.addTag(t)&&(this.inputValue="")}function w(t){return null==t?null:t.scrollHeight>t.clientHeight?t:w(t.parentNode)}function v(t){E.call(this,t),this.showAutoComplete()}function _(t){if(this.dom.autoCompleteList.childElementCount>0){if(null!=this._currentFocusedAutoCompleteElement&&(this._currentFocusedAutoCompleteElement.classList.remove("yk-tags__autocomplete-li--focused"),this._currentFocusedAutoCompleteElement=this._currentFocusedAutoCompleteElement[t]),null==this._currentFocusedAutoCompleteElement)switch(t){case"previousSibling":this._currentFocusedAutoCompleteElement=this.dom.autoCompleteList.children[this.dom.autoCompleteList.childElementCount-1];break;case"nextSibling":this._currentFocusedAutoCompleteElement=this.dom.autoCompleteList.children[0]}return this._currentFocusedAutoCompleteElement.classList.add("yk-tags__autocomplete-li--focused"),this.shownAutoCompleteOptions[parseInt(this._currentFocusedAutoCompleteElement.dataset.index)]}}function y(t,e){const i={},o=Object.keys(t);for(let s=0;s<o.length;s++){const n=o[s];1==e.hasOwnProperty(n)?i[n]=e[n]:i[n]=t[n]}return i}return e.DefaultConfig=t,e.prototype.addTag=function(t){if("string"!=typeof t)throw new Error(`ERROR[Tags.addTag] :: ${t} is not type of string`);if(t=t.trim(),0==this.config.preserveCase&&(t=t.toLowerCase()),0!=this.isValueValid(t)){if(this.config.onBeforeTagAdd(this),0==this._preventAddingTag){const e=a.call(this,t);return this.dom.tagsWrapper.insertBefore(e,this.dom.inputElement),this.values.push(t),this.tagItems.push(e),this.config.onTagAdd(this),e}this._preventAddingTag=!1}else this.config.onTagInvalid(t)},e.prototype.addAll=function(t){if(t instanceof Array==0)throw new Error("ERROR[Tags.addAll] :: parameter is not instance of Array");t.forEach((t=>{this.addTag(t)}))},e.prototype.removeTag=function(t){this.config.onBeforeTagRemove();for(let e=0;e<this.tagItems.length;e++)if(e==t||this.tagItems[e]==t){this.dom.tagsWrapper.removeChild(this.tagItems[e]),this.values.splice(e,1),this.tagItems.splice(e,1);break}this.config.onTagRemove()},e.prototype.removeAll=function(){this.values=[]},e.prototype.getMatchedAutoCompleteValues=function(t){return this.autoComplete.filter((e=>e.toLowerCase().includes(t)))},e.prototype.showAutoComplete=function(){this.autoCompleteOpen=!0},e.prototype.hideAutoComplete=function(){this.autoCompleteOpen=!1},e.prototype.preventAddTag=function(){this._preventAddingTag=!0},e.prototype.isValueValid=function(t){return(null==this.config.regexPattern||0!=this.config.regexPattern.test(t))&&((0!=this.config.allowDuplicates||!c.call(this,t))&&(!(this.config.allowedTags.length>0&&0==this.config.allowedTags.map((t=>t.toLowerCase())).includes(t.toLowerCase()))&&!(this.config.disallowedTags.length>0&&this.config.disallowedTags.map((t=>t.toLowerCase())).includes(t.toLowerCase()))))},e}())})();